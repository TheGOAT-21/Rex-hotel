<div class="guest-info-form bg-gray-900 p-6 rounded-sm">
    <form [formGroup]="guestInfoForm" (ngSubmit)="onSubmit()">
      <!-- Informations personnelles -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Titre / Civilité -->
        <div class="form-group">
          <label for="title">Civilité*</label>
          <select 
            id="title" 
            formControlName="title"
            class="form-input"
          >
            <option *ngFor="let title of guestTitles" [value]="title.value">{{ title.label }}</option>
          </select>
          <div *ngIf="isInvalid('title')" class="error-message">
            {{ getErrorMessage('title') }}
          </div>
        </div>
        
        <!-- Prénom -->
        <div class="form-group">
          <label for="firstName">Prénom*</label>
          <input 
            id="firstName" 
            type="text"
            formControlName="firstName"
            class="form-input"
            placeholder="Votre prénom"
          >
          <div *ngIf="isInvalid('firstName')" class="error-message">
            {{ getErrorMessage('firstName') }}
          </div>
        </div>
        
        <!-- Nom -->
        <div class="form-group">
          <label for="lastName">Nom*</label>
          <input 
            id="lastName" 
            type="text"
            formControlName="lastName"
            class="form-input"
            placeholder="Votre nom"
          >
          <div *ngIf="isInvalid('lastName')" class="error-message">
            {{ getErrorMessage('lastName') }}
          </div>
        </div>
        
        <!-- Email -->
        <div class="form-group">
          <label for="email">Email*</label>
          <input 
            id="email" 
            type="email"
            formControlName="email"
            class="form-input"
            placeholder="votre.email@exemple.com"
          >
          <div *ngIf="isInvalid('email')" class="error-message">
            {{ getErrorMessage('email') }}
          </div>
        </div>
        
        <!-- Téléphone -->
        <div class="form-group md:col-span-2">
          <label for="phone">Téléphone*</label>
          <input 
            id="phone" 
            type="tel"
            formControlName="phone"
            class="form-input"
            placeholder="+225 XX XX XX XX"
          >
          <div *ngIf="isInvalid('phone')" class="error-message">
            {{ getErrorMessage('phone') }}
          </div>
        </div>
      </div>
      
      <!-- Adresse (Formulaire imbriqué) -->
      <div formGroupName="address" class="address-form">
        <div class="address-toggle" (click)="addressSection.classList.toggle('hidden')">
          <span>Adresse (facultatif)</span>
          <svg xmlns="http://www.w3.org/2000/svg" class="address-toggle-icon h-4 w-4 ml-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </div>
        
        <div #addressSection class="hidden">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group md:col-span-2">
              <label for="street">Rue</label>
              <input 
                id="street" 
                type="text"
                formControlName="street"
                class="form-input"
                placeholder="Adresse postale"
              >
            </div>
            
            <div class="form-group">
              <label for="city">Ville</label>
              <input 
                id="city" 
                type="text"
                formControlName="city"
                class="form-input"
                placeholder="Ville"
              >
            </div>
            
            <div class="form-group">
              <label for="zipCode">Code postal</label>
              <input 
                id="zipCode" 
                type="text"
                formControlName="zipCode"
                class="form-input"
                placeholder="Code postal"
              >
            </div>
            
            <div class="form-group md:col-span-2">
              <label for="country">Pays</label>
              <input 
                id="country" 
                type="text"
                formControlName="country"
                class="form-input"
                placeholder="Pays"
              >
            </div>
          </div>
        </div>
      </div>
      
      <!-- Boutons de formulaire -->
      <div class="form-buttons">
        <button 
          *ngIf="showCancelButton"
          type="button"
          class="cancel-button"
          (click)="onCancel()"
        >
          {{ cancelButtonText }}
        </button>
        
        <button 
          type="submit"
          class="submit-button"
          [disabled]="guestInfoForm.invalid"
        >
          {{ submitButtonText }}
        </button>
      </div>
    </form>
  </div>